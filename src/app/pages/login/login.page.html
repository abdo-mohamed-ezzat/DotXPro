<ion-content [fullscreen]="true">
  <div class="container">
    <h1 class="heading">ูุฑุญุจุง๐<br /><br /></h1>
    <p class="para">ุณุฌู ุงูุฏุฎูู ูููุชุงุจุนุฉ</p>
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <ion-item lines="none" class="ion-item">
        <fieldset class="input-item">
          <legend>ุงุณู ุงููุณุชุฎุฏู</legend>
          <ion-input formControlName="userName" type="text"></ion-input>
        </fieldset>
        <div>
          <ion-text color="danger" *ngIf="submitted && f['userName'].errors">
            <small *ngIf="f['userName'].errors['required']"
              >ุงุฏุฎู ุงุณู ุงููุณุชุฎุฏู</small
            >
          </ion-text>
        </div>
      </ion-item>
      <ion-item lines="none" class="ion-item">
        <fieldset class="input-item pass">
          <legend>ูููุฉ ุงูุณุฑ</legend>
          <ion-input
            formControlName="password"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="**********"
          ></ion-input>
          <ion-icon
            slot="end"
            name="eye-outline"
            *ngIf="!showPassword"
            (click)="showPassword = !showPassword"
          ></ion-icon>
          <ion-icon
            slot="end"
            name="eye-off-outline"
            *ngIf="showPassword"
            (click)="showPassword = !showPassword"
          ></ion-icon>
        </fieldset>
      </ion-item>
      <ion-text color="danger" *ngIf="submitted && f['password'].errors">
        <small *ngIf="f['password'].errors['required']">ุงุฏุฎู ุงูุฑูู ุงูุณุฑู</small>
      </ion-text>
      <div class="date-and-branch">
        <ion-item class="ion-item date" lines="none">
          <fieldset class="input-item year">
            <legend>ุงูุณูุฉ ุงููุงููุฉ</legend>
            <ion-select
              aria-label="ุงูุณูุฉ ุงููุงููุฉ"
              interface="action-sheet"
              placeholder="ุงูุณูุฉ ุงููุงููุฉ"
              formControlName="theYear"
            >
              <ion-select-option *ngFor="let year of years" [value]="year.value"
                >{{year.value}}</ion-select-option
              >
            </ion-select>
            <ion-text color="danger" *ngIf="submitted && f['theYear'].errors">
              <small *ngIf="f['theYear'].errors['required']">ุงุฎุชุฑ ุงูุณูุฉ</small>
            </ion-text>
          </fieldset>
        </ion-item>
        <ion-item lines="none" class="ion-item branch">
          <fieldset class="input-item">
            <legend>ุงุณู ุงููุฑุน</legend>
            <ion-select
              aria-label="ุงุณู ุงููุฑุน"
              interface="action-sheet"
              placeholder="ุงุณู ุงููุฑุน"
              formControlName="branchID"
            >
              <ion-select-option
                *ngFor="let branch of branches"
                [value]="branch.key"
                >{{branch.value}}</ion-select-option
              >
            </ion-select>
          </fieldset>
          <ion-text color="danger" *ngIf="submitted && f['branchID'].errors">
            <small *ngIf="f['branchID'].errors['required']"
              >ุงุฎุชุฑ ุงุณู ุงููุฑุน</small
            >
          </ion-text>
        </ion-item>
      </div>
      <div style="text-align: center">
        <ion-text color="danger" *ngIf="error"> {{error}} </ion-text>
      </div>

      <ion-button
        class="login-button"
        expand="block"
        type="submit"
        [disabled]="loading || !loginForm.valid"
      >
        ุชุณุฌูู ุงูุฏุฎูู</ion-button
      >
    </form>
  </div>
  <app-spinner *ngIf="loading"></app-spinner>
</ion-content>
